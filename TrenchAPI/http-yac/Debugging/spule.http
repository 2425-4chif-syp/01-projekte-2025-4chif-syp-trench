# Spule API Tests - TrenchAPI
@host = http://localhost:5127
@apiKey = ichliebetrench
@baseUrl = {{host}}

### Get All Spulen
GET {{baseUrl}}/api/Spule
KEY: {{apiKey}}

?? status == 200
?? body isArray

### Get Spule by ID
GET {{baseUrl}}/api/Spule/1
KEY: {{apiKey}}

?? status == 200 || status == 404
?? status != 200 || body.id == 1

### Create New Spule
# @name createSpule
POST {{baseUrl}}/api/Spule
KEY: {{apiKey}}
Content-Type: application/json

{
  "spuleTypID": 1,
  "auftragsnr": "AUF-2026-001",
  "auftragsPosNr": "POS-001",
  "bemessungsspannung": 230.0,
  "bemessungsfrequenz": 50.0,
  "einheit": "V"
}

?? status == 201
?? body.id > 0
?? body.auftragsnr == "AUF-2026-001"
?? body.bemessungsspannung == 230.0

### Update Spule
@spuleId = 1
PUT {{baseUrl}}/api/Spule/{{spuleId}}
KEY: {{apiKey}}
Content-Type: application/json

{
  "id": {{spuleId}},
  "spuleTypID": 1,
  "auftragsnr": "AUF-2026-001-UPD",
  "auftragsPosNr": "POS-001-UPD",
  "bemessungsspannung": 400.0,
  "bemessungsfrequenz": 60.0,
  "einheit": "V",
  "notiz": "Updated Spule"
}

?? status == 200 || status == 204

### Delete Spule by ID
DELETE {{baseUrl}}/api/Spule/999
KEY: {{apiKey}}

?? status == 204 || status == 404

### Delete All Spulen
# DELETE {{baseUrl}}/api/Spule
# KEY: {{apiKey}}
